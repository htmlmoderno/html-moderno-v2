(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{207:function(n,t,e){var r;r=function(){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=6)}([function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return u}));var r=function(n){for(var t=Array(n.length),e=0;e<n.length;++e)t[e]=n[e];return t},u=function(n,t){return n.filter((function(n){return n===t}))[0]}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"FOCUS_GROUP",(function(){return r})),e.d(t,"FOCUS_DISABLED",(function(){return u})),e.d(t,"FOCUS_ALLOW",(function(){return o})),e.d(t,"FOCUS_AUTO",(function(){return i}));var r="data-focus-lock",u="data-focus-lock-disabled",o="data-no-focus-lock",i="data-autofocus-inside"},function(n,t,e){"use strict";var r=e(1),u=e(0);t.a=function(n){var t=n.getAttribute(r.FOCUS_GROUP);return t?function n(t){var e=t.length,r=void 0,u=void 0;for(r=0;r<e;r+=1)for(u=0;u<e;u+=1)if(r!==u&&t[r].contains(t[u]))return n(t.filter((function(n){return n!==t[u]})));return t}(e.i(u.a)(function n(t){return t.parentNode?n(t.parentNode):t}(n).querySelectorAll("["+r.FOCUS_GROUP+'="'+t+'"]:not(['+r.FOCUS_DISABLED+'="disabled"])'))):[n]}},function(n,t,e){"use strict";var r=e(12),u=e(13),o=e(2),i=function(n){return!(n.dataset&&n.dataset.focusGuard)};t.a=function(n,t){var a=document&&document.activeElement,c=e.i(o.a)(n).filter(i),d=function(n,t,u){var o=t;return u.forEach((function(t){var u=e.i(r.a)(n,t);u&&(o=u.contains(o)?u:e.i(r.a)(u,o))})),o}(a||n,n,c),f=e.i(r.c)(c).filter((function(n){var t=n.node;return i(t)}));if(f[0]||(f=e.i(r.d)(c).filter((function(n){var t=n.node;return i(t)})))[0]){var s,l=f.map((function(n){return n.node})),v=function(n,t,r,o,i){var a=n.length,c=n[0],d=n[a-1];if(!(n.indexOf(r)>=0)){var f=t.indexOf(r),s=t.indexOf(o||f),l=n.indexOf(o),v=f-s,p=t.indexOf(c),b=t.indexOf(d);return-1===f||-1===l?n.indexOf(i.length?e.i(u.a)(i):e.i(u.a)(n)):!v&&l>=0||v&&Math.abs(v)>1?l:f<=p?a-1:f>b?0:v?Math.abs(v)>1?l:(a+l+v)%a:void 0}}(l,e.i(r.c)([d]).map((function(n){return n.node})),a,t,l.filter((s=function(n){return n.reduce((function(n,t){return n.concat(e.i(r.b)(t))}),[])}(c),function(n){return!!n.autofocus||n.dataset&&!!n.dataset.autofocus||s.indexOf(n)>=0})));return void 0===v?v:f[v]}}},function(n,t,e){var r=e(17)(e(5),e(18),null,null);r.options.__file="/Users/akorzunov/dev/Z/mellis/github/focus/vue-focus-lock/src/Lock.vue",r.esModule&&Object.keys(r.esModule).some((function(n){return"default"!==n&&"__esModule"!==n}))&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] Lock.vue: functional components are not supported with templates, they should use render functions."),n.exports=r.exports},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=e(9),o=(r=u)&&r.__esModule?r:{default:r};function i(n){var t=window.setImmediate;void 0!==t?t(n):setTimeout(n,1)}var a=0,c=null,d=!1,f=function(){return document&&document.activeElement===document.body||(0,u.focusIsHidden)()},s=function(){var n=!1;if(a){var t=a,e=t.observed,r=t.onActivation;!d&&f()&&c||(e&&!(0,u.focusInside)(e)&&(r(),n=(0,o.default)(e,c)),d=!1,c=document&&document.activeElement)}return n},l=[],v=function(){var n;n=l.filter((function(n){return!n.disabled})).slice(-1)[0],a!==n&&(a=null),a=n,n&&(s(),i(s))},p=function(n){s()&&n&&(n.stopPropagation(),n.preventDefault())},b=function(){i(s)},m=function(){d=!0};t.default={name:"Lock",props:{returnFocus:{type:Boolean},disabled:{type:Boolean},noFocusGuards:{type:[Boolean,String],default:!1},group:{type:String}},data:function(){return{data:{},hidden:""}},computed:{groupAttr:function(){return function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}({},u.constants.FOCUS_GROUP,this.group)},hasLeadingGuards:function(){return!0!==this.noFocusGuards},hasTailingGuards:function(){return this.hasLeadingGuards&&"tail"!==this.noFocusGuards}},watch:{disabled:function(){this.data.disabled=this.disabled,v()}},methods:{onBlur:function(){i(v)}},mounted:function(){var n=this;this.data.vue=this,this.data.observed=this.$el.querySelector("[data-lock]"),this.data.disabled=this.disabled,this.data.onActivation=function(){n.originalFocusedElement=n.originalFocusedElement||document&&document.activeElement},l.length||(document.addEventListener("focusin",p,!0),document.addEventListener("focusout",b),window.addEventListener("blur",m)),l.push(this.data),v()},destroyed:function(){var n=this;(l=l.filter((function(t){return t.vue!==n}))).length||(document.removeEventListener("focusin",p,!0),document.removeEventListener("focusout",b),window.removeEventListener("blur",m)),this.returnFocus&&this.originalFocusedElement&&this.originalFocusedElement.focus&&this.originalFocusedElement.focus(),v()}}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=e(4),o=(r=u)&&r.__esModule?r:{default:r};t.default=o.default},function(n,t,e){"use strict";var r=e(2),u=e(0),o=function(n){return n===document.activeElement};t.a=function(n){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&e.i(r.a)(n).reduce((function(i,a){return i||a.contains(t)||function(n){return e.i(r.a)(n).reduce((function(n,t){return n||!!e.i(u.b)(e.i(u.a)(t.querySelectorAll("iframe")),o)}),!1)}(n)}),!1)}},function(n,t,e){"use strict";var r=e(0),u=e(1);t.a=function(){return document&&e.i(r.a)(document.querySelectorAll("["+u.FOCUS_ALLOW+"]")).some((function(n){return n.contains(document.activeElement)}))}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(11),u=e(3),o=e(7),i=e(8),a=e(10),c=e(1),d=e(2);e.d(t,"tabHook",(function(){return r.a})),e.d(t,"focusInside",(function(){return o.a})),e.d(t,"focusIsHidden",(function(){return i.a})),e.d(t,"focusMerge",(function(){return u.a})),e.d(t,"constants",(function(){return c})),e.d(t,"getAllAffectedNodes",(function(){return d.a})),t.default=a.a},function(n,t,e){"use strict";var r=e(3),u=0;t.a=function(n,t){var o,i=e.i(r.a)(n,t);if(i){if(u>2)return;u++,(o=i.node).focus(),o.contentWindow&&o.contentWindow.focus(),u--}}},function(n,t,e){"use strict";t.a={attach:function(n,t){},detach:function(){}}},function(n,t,e){"use strict";e.d(t,"a",(function(){return a})),e.d(t,"c",(function(){return d})),e.d(t,"d",(function(){return f})),e.d(t,"b",(function(){return s}));var r=e(14),u=e(15),o=e(0),i=function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.push(t),t.parentNode&&n(t.parentNode,e),e},a=function(n,t){for(var e=i(n),r=i(t),u=0;u<e.length;u+=1){var o=e[u];if(r.indexOf(o)>=0)return o}return!1},c=function(n){return e.i(o.a)(n).filter((function(n){return function n(t){return!t||t===document||!((e=window.getComputedStyle(t,null))&&e.getPropertyValue&&("none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility")))&&n(t.parentNode);var e}(n)})).filter((function(n){return function(n){return!(("INPUT"===n.tagName||"BUTTON"===n.tagName)&&("hidden"===n.type||n.disabled))}(n)}))},d=function(n){return e.i(r.a)(c(e.i(u.a)(n)),!0)},f=function(n){return e.i(r.a)(c(e.i(u.a)(n)),!1)},s=function(n){return c(e.i(u.b)(n))}},function(n,t,e){"use strict";var r=function(n){return"INPUT"===n.tagName&&"radio"===n.type};t.a=function(n){return n[0]&&n.length>1&&r(n[0])&&n[0].name?function(n,t){return t.filter(r).filter((function(t){return t.name===n.name})).filter((function(n){return n.checked}))[0]||n}(n[0],n):n[0]}},function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e(0),u=function(n,t){var e=n.tabIndex-t.tabIndex,r=n.index-t.index;if(e){if(!n.tabIndex)return 1;if(!t.tabIndex)return-1}return e||r},o=function(n,t){return e.i(r.a)(n).map((function(n,t){return{node:n,index:t,tabIndex:n.tabIndex}})).filter((function(n){return!t||n.tabIndex>=0})).sort(u)}},function(n,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return a}));var r=e(16),u=e(0),o=e(1),i=function(n){return n.reduce((function(n,t){return n.concat(e.i(u.a)(t.querySelectorAll(r.a.join(","))))}),[])},a=function(n){var t=n.querySelectorAll("["+o.FOCUS_AUTO+"]");return e.i(u.a)(t).map((function(n){return i([n])})).reduce((function(n,t){return n.concat(t)}),[])}},function(n,t,e){"use strict";t.a=["button:enabled:not([readonly])","select:enabled:not([readonly])","textarea:enabled:not([readonly])","input:enabled:not([readonly])","a[href]","area[href]","iframe","object","embed","[tabindex]","[contenteditable]","[autofocus]"]},function(n,t){n.exports=function(n,t,e,r){var u,o=n=n||{},i=typeof n.default;"object"!==i&&"function"!==i||(u=n,o=n.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),e&&(a._scopeId=e),r){var c=Object.create(a.computed||null);Object.keys(r).forEach((function(n){var t=r[n];c[n]=function(){return t}})),a.computed=c}return{esModule:u,exports:o,options:a}}},function(n,t,e){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[n.hasLeadingGuards?e("div",{style:n.hidden,attrs:{tabIndex:n.disabled?-1:0}}):n._e(),n._v(" "),n.hasLeadingGuards?e("div",{style:n.hidden,attrs:{tabIndex:n.disabled?-1:1}}):n._e(),n._v(" "),e("div",n._b({attrs:{"data-lock":""},on:{focusout:n.onBlur}},"div",n.groupAttr,!1),[n._t("default")],2),n._v(" "),n.hasTailingGuards?e("div",{style:n.hidden,attrs:{tabIndex:n.disabled?-1:0}}):n._e()])},staticRenderFns:[]},n.exports.render._withStripped=!0}])},n.exports=r()}}]);